import { a as _slicedToArray, _ as _objectSpread2 } from '../chunks/_rollupPluginBabelHelpers-fe91c0c3.js';
import React, { useState, useRef } from 'react';
import { s as styleInject } from '../chunks/style-inject.es-1d18fb65.js';

function Icon () {
  return new DOMParser().parseFromString("<svg width=\"16\" height=\"16\" viewBox=\"0 0 16 16\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n<g clip-path=\"url(#clip0)\">\n<path d=\"M11.2 6.79985C11.2 6.69985 11.2 6.69985 11.2 6.59985C11.2 6.49985 11.1 6.29985 11.1 6.19985C11.1 6.09985 11.1 6.09985 11 5.99985C10.9 5.79985 10.9 5.69985 10.8 5.59985C10.6 5.19985 10.2 4.89985 9.90005 4.69985C9.60005 4.59985 9.50005 4.49985 9.30005 4.39985C9.20005 4.39985 9.20005 4.39985 9.10005 4.29985C9.00005 4.29985 8.90005 4.29985 8.80005 4.19985C8.70005 4.19985 8.70005 4.19985 8.60005 4.19985C8.40005 4.19985 8.20005 4.09985 8.00005 4.09985C7.80005 4.09985 7.60005 4.09985 7.40005 4.19985C7.30005 4.19985 7.30005 4.19985 7.20005 4.19985C7.10005 4.29985 7.00005 4.29985 6.90005 4.29985C6.80005 4.29985 6.80005 4.29985 6.70005 4.39985C6.50005 4.49985 6.40005 4.59985 6.30005 4.69985C5.90005 4.89985 5.60005 5.19985 5.30005 5.49985C5.20005 5.69985 5.10005 5.89985 5.10005 5.99985C5.10005 6.09985 5.10005 6.09985 5.00005 6.19985C5.00005 6.29985 4.90005 6.49985 4.90005 6.59985C4.90005 6.69985 4.90005 6.69985 4.90005 6.79985C4.90005 6.99985 4.80005 7.19985 4.80005 7.39985C4.80005 7.59985 4.80005 7.79985 4.90005 7.99985C4.90005 8.09985 4.90005 8.09985 4.90005 8.19985C4.90005 8.19985 5.00005 8.39985 5.00005 8.49985C5.00005 8.59985 5.00005 8.59985 5.10005 8.69985C5.10005 8.79985 5.20005 8.99985 5.30005 9.09985C5.60005 9.49985 5.90005 9.79985 6.30005 9.99985C6.40005 10.0999 6.60005 10.1999 6.70005 10.1999C6.80005 10.1999 6.80005 10.1999 6.90005 10.2999C7.00005 10.2999 7.20005 10.3999 7.30005 10.3999C7.40005 10.3999 7.40005 10.3999 7.50005 10.3999C7.70005 10.3999 7.90005 10.4999 8.10005 10.4999C8.30005 10.4999 8.50005 10.4999 8.70005 10.3999C8.80005 10.3999 8.80005 10.3999 8.90005 10.3999C9.00005 10.3999 9.20005 10.2999 9.30005 10.2999C9.40005 10.2999 9.40005 10.2999 9.50005 10.1999C9.70005 10.0999 9.80005 10.0999 9.90005 9.99985C10.3 9.79985 10.6 9.49985 10.8 9.09985C10.9 8.99985 11 8.79985 11 8.69985C11 8.59985 11 8.59985 11.1 8.49985C11.1 8.39985 11.2 8.19985 11.2 8.09985C11.2 7.99985 11.2 7.99985 11.2 7.89985C11.2 7.69985 11.3 7.49985 11.3 7.29985C11.2 7.09985 11.2 6.89985 11.2 6.79985ZM10 7.29985C10 7.49985 10 7.59985 9.90005 7.79985C9.90005 7.89985 9.80005 8.09985 9.70005 8.19985C9.60005 8.59985 9.30005 8.89985 8.90005 9.09985C8.80005 9.19985 8.70005 9.19985 8.50005 9.29985C8.30005 9.29985 8.20005 9.39985 8.00005 9.39985C7.80005 9.39985 7.70005 9.39985 7.50005 9.29985C7.40005 9.29985 7.20005 9.19985 7.10005 9.09985C6.70005 8.89985 6.40005 8.59985 6.20005 8.29985C6.20005 8.09985 6.10005 7.99985 6.10005 7.89985C6.00005 7.69985 6.00005 7.49985 6.00005 7.29985C6.00005 7.19985 6.00005 6.99985 6.00005 6.89985C6.00005 6.79985 6.10005 6.59985 6.20005 6.49985C6.40005 5.99985 6.70005 5.79985 7.10005 5.59985C7.20005 5.49985 7.40005 5.49985 7.50005 5.39985C7.70005 5.39985 7.80005 5.29985 8.00005 5.29985C8.20005 5.29985 8.30005 5.29985 8.50005 5.39985C8.60005 5.39985 8.80005 5.49985 8.90005 5.59985C9.30005 5.79985 9.60005 5.99985 9.80005 6.39985C9.90005 6.49985 9.90005 6.69985 10 6.79985C10 6.99985 10 7.19985 10 7.29985Z\" fill=\"#5D657B\"/>\n<path d=\"M15.9 6.99995C15.9 6.99995 15.9 6.89995 15.8 6.89995C15.8 6.79995 15.7 6.79995 15.6 6.69995C15.6 6.69995 15.6 6.69995 15.6 6.59995C15.5 6.49995 15.4 6.39995 15.3 6.29995C15 5.89995 14.5 5.39995 13.9 4.89995C13.9 4.89995 13.9 4.89995 13.8 4.79995C13.6 4.59995 13.4 4.49995 13.2 4.29995C13.2 4.29995 13.1 4.29995 13.1 4.19995C12.9 3.99995 12.7 3.89995 12.4 3.69995C11.8 3.29995 11.2 2.99995 10.6 2.69995C10.6 2.69995 10.6 2.69995 10.5 2.69995C10.3 2.59995 10 2.49995 9.8 2.49995C9.7 2.49995 9.7 2.49995 9.6 2.49995C9.5 2.39995 9.3 2.39995 9.1 2.29995C9 2.29995 9 2.29995 8.9 2.29995C8.6 2.19995 8.3 2.19995 8 2.19995C7.7 2.19995 7.4 2.19995 7.1 2.29995C7 2.29995 7 2.29995 6.9 2.29995C6.7 2.29995 6.5 2.39995 6.2 2.39995C6.1 2.39995 6.1 2.39995 6 2.39995C5.9 2.59995 5.7 2.59995 5.4 2.69995C5.4 2.69995 5.4 2.69995 5.3 2.69995C5.1 2.89995 4.9 2.99995 4.6 3.09995C4 3.39995 3.4 3.79995 2.9 4.19995C2.9 4.19995 2.8 4.19995 2.8 4.29995C2.6 4.49995 2.4 4.59995 2.2 4.79995C2.2 4.79995 2.2 4.79995 2.1 4.89995C1.5 5.39995 1 5.89995 0.7 6.29995C0.6 6.39995 0.5 6.49995 0.4 6.59995C0.4 6.59995 0.4 6.59995 0.4 6.69995C0.3 6.69995 0.3 6.79995 0.2 6.79995L0.1 6.89995C0 7.09995 0 7.19995 0 7.29995C0 7.39995 0 7.49995 0.1 7.69995C0.1 7.69995 0.1 7.69995 0.2 7.79995C0.3 7.89995 0.3 7.99995 0.4 7.99995C0.4 7.99995 0.4 7.99995 0.4 8.09995C0.5 8.19995 0.6 8.29995 0.7 8.39995C1 8.79995 1.5 9.29995 2.1 9.79995C2.1 9.79995 2.1 9.79995 2.2 9.89995C2.4 10.1 2.6 10.2 2.8 10.4C2.8 10.4 2.9 10.4 2.9 10.5C3.4 10.9 4 11.3 4.7 11.6C4.9 11.7 5.2 11.8 5.4 11.9C5.4 11.9 5.4 11.9 5.5 11.9C5.7 12 6 12.1 6.2 12.1C6.3 12.1 6.3 12.1 6.4 12.1C6.6 12.2 6.8 12.2 7.1 12.2C7.2 12.2 7.2 12.2 7.3 12.2C7.6 12.2 7.9 12.3 8.2 12.3C8.5 12.3 8.8 12.3 9.1 12.2C9.2 12.2 9.2 12.2 9.3 12.2C9.5 12.2 9.7 12.1 10 12.1C10.1 12.1 10.1 12.1 10.2 12.1C10.4 12 10.7 12 10.9 11.9C10.9 11.9 10.9 11.9 11 11.9C11.7 11.6 12.3 11.3 12.8 10.9C13 10.7 13.3 10.6 13.5 10.4C13.5 10.4 13.6 10.4 13.6 10.3C13.8 10.1 14 9.99995 14.2 9.79995C14.2 9.79995 14.2 9.79995 14.3 9.69995C14.9 9.19995 15.4 8.69995 15.7 8.29995C15.8 8.19995 15.9 8.09995 16 7.99995C16 7.99995 16 7.99995 16 7.89995C16.1 7.79995 16.1 7.79995 16.2 7.69995C16.2 7.59995 16.3 7.59995 16.3 7.59995C16 7.59995 16 7.49995 16 7.29995C16 7.09995 16 7.09995 15.9 6.99995ZM10.5 10.7C10.3 10.8 10.1 10.9 9.9 10.9C9.7 11 9.5 11 9.3 11.1H9.2C9 11.1 8.9 11.2 8.7 11.2H8.6C8.4 11.2 8.2 11.2 8 11.2C7.8 11.2 7.6 11.2 7.4 11.2H7.3C7.1 11.2 7 11.1 6.8 11.1H6.7C6.5 11.1 6.3 11 6.1 10.9C5.9 10.8 5.7 10.7 5.5 10.7C5.1 10.5 4.7 10.3 4.4 10.1C3 9.19995 1.9 7.89995 1.4 7.29995C1.9 6.69995 3 5.49995 4.4 4.59995C4.8 4.39995 5.1 4.19995 5.5 3.99995C5.7 3.89995 5.9 3.79995 6.1 3.79995C6.3 3.69995 6.5 3.69995 6.7 3.59995H6.8C7 3.59995 7.1 3.49995 7.3 3.49995H7.4C7.6 3.49995 7.8 3.49995 8 3.49995C8.2 3.49995 8.4 3.49995 8.6 3.49995H8.7C8.9 3.49995 9 3.59995 9.2 3.59995H9.3C9.5 3.59995 9.7 3.69995 9.9 3.79995C10.1 3.89995 10.3 3.99995 10.5 3.99995C10.9 4.19995 11.3 4.39995 11.6 4.59995C13 5.49995 14.2 6.69995 14.6 7.29995C14.1 7.89995 13 9.09995 11.6 9.99995C11.2 10.3 10.9 10.5 10.5 10.7Z\" fill=\"#5D657B\"/>\n</g>\n<defs>\n<clipPath id=\"clip0\">\n<rect width=\"16\" height=\"16\" fill=\"white\"/>\n</clipPath>\n</defs>\n</svg>\n", 'image/svg+xml').firstChild;
}

var css = ".style_tooltip__uv7i_ {\n  position: fixed;\n  z-index: 10;\n  background: grey;\n  border-radius: 2px;\n  padding: 10px;\n  box-shadow: black;\n  color: white;\n  font-size: 15px;\n  line-height: 20px;\n}\n";
styleInject(css);

var textContent = function textContent(elem) {
  if (!elem) {
    return '';
  }

  if (typeof elem === 'string') {
    return elem;
  }

  var children = elem.props && elem.props.children;

  if (children instanceof Array) {
    return children.map(textContent).join('');
  }

  return textContent(children);
};

var Tooltip = function Tooltip(_ref) {
  var children = _ref.children,
      text = _ref.text,
      _ref$position = _ref.position,
      position = _ref$position === void 0 ? 'top' : _ref$position,
      _ref$width = _ref.width,
      width = _ref$width === void 0 ? 300 : _ref$width,
      className = _ref.className,
      _ref$disabled = _ref.disabled,
      disabled = _ref$disabled === void 0 ? false : _ref$disabled;

  var _useState = useState(false),
      _useState2 = _slicedToArray(_useState, 2),
      showTooltipHook = _useState2[0],
      setShowTooltipHook = _useState2[1];

  var _useState3 = useState(0),
      _useState4 = _slicedToArray(_useState3, 2),
      tooltipTopHook = _useState4[0],
      setTooltipTopHook = _useState4[1];

  var _useState5 = useState(0),
      _useState6 = _slicedToArray(_useState5, 2),
      tooltipLeftHook = _useState6[0],
      setTooltipLeftHook = _useState6[1];

  var childrenRef = useRef(null);

  var GetTooltipCoordinates = function GetTooltipCoordinates() {
    var tooltipLeft = 0;
    var tooltipTop = 0;

    function getTooltipWidth() {
      var result = width;

      if (text) {
        result = Math.min(width, Math.ceil(textContent(text).length * 6.3 + 20));
      }

      return result;
    }

    function getToolTipHeight() {
      var result = 24;
      var charsInLine = Math.floor((width - 20) / 6.3);
      var lineHeight = 14;

      if (text && textContent(text).length > charsInLine) {
        result = Math.ceil(textContent(text).length / charsInLine) * lineHeight + 10;
      }

      return result;
    }

    var childCoords = childrenRef.current.getBoundingClientRect();
    tooltipLeft = childCoords.left + childCoords.width - getTooltipWidth();
    if (tooltipLeft < 0) tooltipLeft = 0; // не заезжать за левый край окна

    tooltipTop = childCoords.top - getToolTipHeight() - 10;

    if (tooltipTop < 0) {
      // если подсказка не помещается сверху, то отображать её снизу
      tooltipTop = childCoords.top + childCoords.height + 10;
    }

    switch (position) {
      case 'bottom':
        {
          tooltipTop = childCoords.top + childCoords.height + 10;

          if (tooltipTop + getToolTipHeight() > childrenRef.current.ownerDocument.body.clientHeight) {
            // Если не помещается снизу, отображаем сверху
            tooltipTop = childCoords.top - getToolTipHeight() - 10;
          }

          break;
        }

      case 'left':
        {
          tooltipTop = childCoords.top;
          tooltipLeft = childCoords.left - getTooltipWidth() - 10; // Если не помещается слева, отображаем справа

          if (tooltipLeft < 0) {
            tooltipLeft = childCoords.left + childCoords.width + 10;
          }

          break;
        }

      case 'right':
        {
          tooltipTop = childCoords.top;
          tooltipLeft = childCoords.left + childCoords.width + 10; // Если не помещается справа, отображаем слева

          if (tooltipLeft + getTooltipWidth() + 10 > childrenRef.current.ownerDocument.body.clientWidth) {
            tooltipLeft = childCoords.left - getTooltipWidth() - 10;
          }

          break;
        }
    }

    setTooltipLeftHook(Math.ceil(tooltipLeft));
    setTooltipTopHook(Math.ceil(tooltipTop));
  };

  var showTooltip = function showTooltip() {
    GetTooltipCoordinates();
    setShowTooltipHook(true);
  };

  var hideTooltip = function hideTooltip() {
    setShowTooltipHook(false);
  };

  var childrenProps = {
    ref: childrenRef,
    onMouseOver: showTooltip,
    onMouseOut: hideTooltip
  };
  console.log(Icon());
  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement("div", {
    dangerouslySetInnerHTML: {
      __html: Icon().outerHTML
    }
  }), /*#__PURE__*/React.cloneElement(children, _objectSpread2({}, childrenProps)), showTooltipHook && text && !disabled ? /*#__PURE__*/React.createElement("div", {
    "data-tooltip": true,
    style: {
      left: tooltipLeftHook,
      top: tooltipTopHook,
      width: width
    },
    className: (className ? className + " " : "") + "style_tooltip__uv7i_"
  }, "\"\u0416\u041E\u0410\u041F\u0410\"", text) : '');
};
/********  Example of calling a Tooltip component
 *
 * // Можно обернуть DOM-узлы или React-классовые компоненты.
 * // Функциональные компоненты сразу обернуть нельзя, сначала в DOM узел
 *
 * import { Tooltip } from 'view/shared/Tooltip';
 *
 * <Tooltip text='Всплывающая подсказка' position='top'>
 *   <span>
 *    <IconWrapper >
 *      <FWDIcon {...iconSize}/>
 *    </IconWrapper> *
 *   </span>
 * </Tooltip>
 *
 * */

export { Tooltip };
